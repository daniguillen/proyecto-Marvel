(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[75676],{535174:e=>{var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthCloseupRelatedPins_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="4252f821f63b8b09f45d828cfa4e62dc",e.exports=i},470131:(e,t,i)=>{i.d(t,{YD:()=>h,df:()=>u});var n=i(667294);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var o=new Map,s=new Map,l=0;function a(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return t+"_"+("root"===t?(i=e.root)?(s.has(i)||(l+=1,s.set(i,l.toString())),s.get(i)):"0":e[t]);var i})).toString()}function d(e,t,i){if(void 0===i&&(i={}),!e)return function(){};var n=function(e){var t=a(e),i=o.get(t);if(!i){var n,r=new Map,s=new IntersectionObserver((function(t){t.forEach((function(t){var i,o=t.isIntersecting&&n.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=o),null==(i=r.get(t.target))||i.forEach((function(e){e(o,t)}))}))}),e);n=s.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),i={id:t,observer:s,elements:r},o.set(t,i)}return i}(i),r=n.id,s=n.observer,l=n.elements,d=l.get(e)||[];return l.has(e)||l.set(e,d),d.push(t),s.observe(e),function(){d.splice(d.indexOf(t),1),0===d.length&&(l.delete(e),s.unobserve(e)),0===l.size&&(s.disconnect(),o.delete(r))}}function c(e){return"function"!=typeof e.children}var u=function(e){var t,i;function o(t){var i;return(i=e.call(this,t)||this).node=null,i._unobserveCb=null,i.handleNode=function(e){i.node&&(i.unobserve(),e||i.props.triggerOnce||i.props.skip||i.setState({inView:!!i.props.initialInView,entry:void 0})),i.node=e||null,i.observeNode()},i.handleChange=function(e,t){e&&i.props.triggerOnce&&i.unobserve(),c(i.props)||i.setState({inView:e,entry:t}),i.props.onChange&&i.props.onChange(e,t)},i.state={inView:!!t.initialInView,entry:void 0},i}i=e,(t=o).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var s=o.prototype;return s.componentDidUpdate=function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},s.componentWillUnmount=function(){this.unobserve(),this.node=null},s.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,i=e.root,n=e.rootMargin,r=e.trackVisibility,o=e.delay;this._unobserveCb=d(this.node,this.handleChange,{threshold:t,root:i,rootMargin:n,trackVisibility:r,delay:o})}},s.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},s.render=function(){if(!c(this.props)){var e=this.state,t=e.inView,i=e.entry;return this.props.children({inView:t,entry:i,ref:this.handleNode})}var o=this.props,s=o.children,l=o.as,a=o.tag,d=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(o,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView"]);return(0,n.createElement)(l||a||"div",r({ref:this.handleNode},d),s)},o}(n.Component);function h(e){var t=void 0===e?{}:e,i=t.threshold,r=t.delay,o=t.trackVisibility,s=t.rootMargin,l=t.root,a=t.triggerOnce,c=t.skip,u=t.initialInView,h=(0,n.useRef)(),p=(0,n.useState)({inView:!!u}),f=p[0],g=p[1],v=(0,n.useCallback)((function(e){void 0!==h.current&&(h.current(),h.current=void 0),c||e&&(h.current=d(e,(function(e,t){g({inView:e,entry:t}),t.isIntersecting&&a&&h.current&&(h.current(),h.current=void 0)}),{root:l,rootMargin:s,threshold:i,trackVisibility:o,delay:r}))}),[Array.isArray(i)?i.toString():i,l,s,a,c,o,r]);(0,n.useEffect)((function(){h.current||!f.entry||a||c||g({inView:!!u})}));var _=[v,f.inView,f.entry];return _.ref=_[0],_.inView=_[1],_.entry=_[2],_}u.displayName="InView",u.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1}},760372:(e,t,i)=>{i.d(t,{X:()=>n});const n="favorited"},785539:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(52022),r=i(19121),o=i(867820),s=i(883119),l=i(785893);function a({interest:e,shouldWrapText:t,pageType:i}){var a,d,c;const{name:u,url:h,image:p}=e,f=(0,n.Z)(),g=!(0,r.Z)().isAuth&&p["70x"]?p["70x"]:p["474x"];return p&&g?(0,l.jsx)(s.rU,{onClick:()=>{(0,o.tj)(`mweb.unauth.suggested_interests_pill.${i}.touch`,{interest:u}),f({action:"click",item:"suggested-interest-pill"})},rounding:"pill",underline:"none",href:h,children:(0,l.jsx)(s.xu,{display:"flex",marginBottom:1,marginStart:1,overflow:"hidden",position:"relative",rounding:"pill","data-test-id":"suggested-interest-pill",children:(0,l.jsxs)(s.xu,{alignItems:"center",color:"secondary",display:"flex",height:50,width:"100%",children:[(0,l.jsx)(s.xu,{height:42,margin:1,minWidth:42,overflow:"hidden",rounding:"circle",width:42,children:(0,l.jsx)(s.Ee,{alt:"",fit:"cover",naturalHeight:null!==(a=g.height)&&void 0!==a?a:1,naturalWidth:null!==(d=g.width)&&void 0!==d?d:1,src:null!==(c=g.url)&&void 0!==c?c:""})}),(0,l.jsx)(s.xu,{marginEnd:4,marginStart:1,children:(0,l.jsx)(s.xv,{align:"start",overflow:t?"normal":"noWrap",size:"200",weight:"bold",children:u})})]})})}):null}var d=i(898781),c=i(50286);function u({interests:e,isFirstElement:t,pageType:i="plp"}){const r=(0,d.ZP)(),u=(0,c.HG)(),h=(0,n.Z)();let p="suggested-interests";return"plp"===i?p="related-pins-similar-ideas-title":"blp"===i&&(p="blp-similar-ideas-title"),(0,l.jsxs)(s.xu,{display:"flex",direction:"column",padding:1,marginTop:t?0:4,marginBottom:4,children:[(0,l.jsx)(s.xu,{marginBottom:2,"data-test-id":p,children:(0,l.jsx)(s.iP,{onTap:()=>{"plp"===i?((0,o.My)(`pcons.${u?"desktop":"mobile"}.related-pins-similar-ideas-title`),h({action:"click",item:"related-pins-similar-ideas-title"})):"blp"===i&&((0,o.My)(`pcons.${u?"desktop":"mobile"}.blp-similar-ideas-title`),h({action:"click",item:"blp-similar-ideas-title"}))},children:(0,l.jsx)(s.xv,{size:u?"200":"100",weight:"bold",align:"center",children:r.bt("Ideas similares populares ahora", "Similar ideas popular now", "Title of suggesting related topics module in the pin feeds.", undefined, true)})})}),e.map((e=>(0,l.jsx)(a,{interest:e,shouldWrapText:!0,pageType:i},e.name)))]})}},904779:(e,t,i)=>{i.d(t,{K:()=>s,T:()=>l});var n=i(667294),r=i(785893);const o=(0,n.createContext)({getPinFeedbackStatus:()=>{},setPinFeedbackStatus:()=>{}}),s=()=>(0,n.useContext)(o);function l({children:e}){const[t,i]=(0,n.useState)(Object.freeze({})),s=(0,n.useMemo)((()=>({getPinFeedbackStatus:({pinId:e})=>t[e],setPinFeedbackStatus:({pinId:e,pinFeedbackStatus:n})=>i({...t,[e]:n})})),[t]);return(0,r.jsx)(o.Provider,{value:s,children:e})}},284367:(e,t,i)=>{i.d(t,{Z:()=>g});var n=i(667294),r=i(317254),o=i(920231),s=i(698629),l=i(889884),a=i(740990),d=i(829407),c=i(883119),u=i(50286),h=i(444445),p=i(679031),f=i(785893);function g({customLayoutType:e,emptyState:t,feedItems:i,feedKey:g,gridConfig:v,pagination:{hasNext:_,isLoadingNext:m,loadNext:x,refetch:y},pullToRefresh:w,renderFeedItem:k,serverRender:b,viewParameter:j,viewType:P}){const S=(0,u.HG)(),E=(0,n.useRef)(null),[R,I]=(0,n.useState)(!1),T="userSearch"===e?window.innerWidth-16:200,C=m&&0===i.length&&!R,A="desktopFlashlight"===e?0:h.qG;return(0,d.Z)((()=>(window.addEventListener("online",x),()=>window.removeEventListener("online",x)))),(0,f.jsxs)(c.xu,{"data-test-id":"MobileFeed",children:[(0,f.jsx)(l.Z,{enabled:!!w,onPull:()=>{y(),I(!0)},refreshing:R}),(0,f.jsxs)(c.xu,{marginStart:A,marginEnd:A,"data-test-id":"grid",ref:E,opacity:R?.5:1,children:[(0,f.jsx)(r.Z,{isAtEndOfFeed:!_,itemCount:i.length,children:i.length?(0,f.jsx)(c.xu,{"data-test-id":"feed",marginTop:(0,p.kk)({isDesktop:S}),children:(0,f.jsx)(a.Z.Consumer,{children:t=>(0,f.jsx)(n.Fragment,{children:(0,f.jsx)(p.c$,{feedRef:E,viewParameter:j,viewType:P||1,children:(0,f.jsx)(o.Z,{cacheKey:g+(null!=v&&v.key?`|${v.key}`:""),id:b?g:void 0,items:i,scrollContainerRef:t,serverRender:b,columnWidth:S?h.yF:T,renderItem:({data:e,itemIdx:t})=>k(e,t),gutterWidth:S?4*h.jC:void 0,loadItems:x,minCols:"userSearch"===e?1:2,...v})})})})}):m?(0,f.jsx)(p.gG,{}):null!=t?t:null}),C&&(0,f.jsx)(c.xu,{column:12,paddingY:2,children:(0,f.jsx)(s.Z,{partialViewportWidth:"desktopFlashlight"===e})})]})]})}},982828:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(667294),r=i(700380),o=i(883119),s=i(313047),l=i(785893);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d extends n.PureComponent{constructor(...e){super(...e),a(this,"onScroll",(0,r.Z)((e=>{if(this.anchorElement){const e=this.anchorElement.offsetTop+this.anchorElement.offsetHeight;window.scrollY>e&&!this.hasExited?(this.hasExited=!0,this.props.onExit()):window.scrollY<=e&&this.hasExited&&(this.hasExited=!1,this.props.onEnter());const{isOnView:n}=this;var t,i;if(n())null===(t=(i=this.props).onView)||void 0===t||t.call(i)}}),this.props.throttleTime||100)),a(this,"wasViewed",(()=>{var e;const t=null===(e=this.anchorElement)||void 0===e?void 0:e.getBoundingClientRect();return!!t&&t.top<=s.DEFAULT_HEIGHT})),a(this,"isOnView",(()=>{var e;const t=null===(e=this.anchorElement)||void 0===e?void 0:e.getBoundingClientRect();return!!t&&(t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||window.height)-150&&t.right<=(window.innerWidth||window.width))})),a(this,"hasExited",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}render(){const{children:e}=this.props;return(0,l.jsx)(o.xu,{ref:e=>{var t,i;(this.anchorElement=e,this.anchorElement&&this.wasViewed())&&(null===(t=(i=this.props).onView)||void 0===t||t.call(i))},children:e})}}const c=d},995389:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(10216),r=i(883119),o=i(785893);function s({titleFormat:e,titleArgsQuery:t}){return(0,o.jsxs)(r.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:12,children:[(0,o.jsx)(r.xu,{marginBottom:2,paddingX:4,children:(0,o.jsx)(r.xv,{align:"center",color:"default",overflow:"normal",weight:"bold",children:e})}),(0,o.jsx)(n.Z,{query:t,showHeaderText:!1})]})}},195620:(e,t,i)=>{i.r(t),i.d(t,{default:()=>q,getUnauthCloseupFeedResourceOptions:()=>N});var n=i(667294),r=i(702664),o=i(368156),s=i(995389),l=i(81198),a=i(785539),d=i(720946),c=i(653493),u=i(183007),h=i(982828),p=i(430323),f=i(248041),g=i(829407),v=i(538232),_=i(407043),m=i(50286),x=i(780280),y=i(883119),w=i(470131),k=i(785893);const b=new y.Ry(1),j=({header:e,feed:t,title:i,storyModules:r,onRelatedPinsTitleEnter:o,onRelatedPinsTitleExit:s})=>{const l=(0,f.Z)(),a=(0,m.HG)(),d=a?2:void 0,{isAuthenticated:c}=(0,x.B)(),{logContextEvent:j}=(0,_.v)(),P=(0,n.useRef)(),[S,E]=(0,w.YD)(),[R,I]=(0,n.useState)(!1),{clientTrackingParams:T,viewParameter:C}=(0,v.R)();(0,g.Z)((()=>{setTimeout((()=>{I(!0)}),1e3)})),(0,n.useEffect)((()=>{S&&l.scrollToPins(!1)}),[S,l]);const[A,F]=(0,n.useState)(!0);(0,n.useEffect)((()=>{l.isHidden&&E&&A&&(j({event_type:13,view_parameter:C,view_type:3,component:86}),F(!1))}),[l.isHidden,j,C,E,A]),(0,n.useEffect)((()=>{var e;l.isScrolledToPins&&(null===(e=P.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[l.isScrolledToPins]);const M=a?24:76;return(0,k.jsxs)(n.Fragment,{children:[(0,k.jsx)(y.xu,{height:a?32:0}),l.isHidden?(0,k.jsx)(p.Z,{viewParameter:C,clientTrackingParams:T,component:86,view:3,children:(0,k.jsxs)(n.Fragment,{children:[!c&&a&&(0,k.jsx)(y.xu,{position:"fixed",left:!0,right:!0,marginBottom:4,display:"flex",justifyContent:"center",dangerouslySetInlineStyle:{__style:{bottom:M,transition:"all 200ms linear",transform:R&&!E?"none":`translateY(${M+48}px)`,opacity:R&&!E?1:0,pointerEvents:"none"}},zIndex:b,children:(0,k.jsx)(y.xu,{"data-test-id":"more-like-this-button",borderStyle:"shadow",rounding:"pill",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:(0,k.jsx)(y.zx,{color:"white",iconEnd:"arrow-down",text:i,size:"lg",onClick:()=>{var e;null===(e=P.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}})})}),(0,k.jsxs)(y.xu,{paddingX:d,"data-layout-shift-boundary-id":"UnauthRelatedPinsWithoutDrawer","data-test-id":"related-pins-without-drawer",children:[r,(0,k.jsx)(y.xu,{ref:P,dangerouslySetInlineStyle:{__style:{scrollMargin:24}},children:(0,k.jsx)(h.Z,{onEnter:o,onExit:s,children:e})}),(0,k.jsx)(y.xu,{ref:S,children:(0,k.jsx)(w.df,{as:"span",onChange:e=>{e&&I(!1)},children:t})})]})]})}):(0,k.jsx)(u.Z,{children:(0,k.jsxs)(y.xu,{paddingX:d,children:[e,t]})})]})};var P,S=i(566102),E=i(284367),R=i(898781),I=i(784590),T=i(667679),C=i(52022),A=i(679031),F=i(62409),M=i(90221),B=i(623568),O=i(965900),Z=i(773285),V=i(350118),L=i(167912),D=i(276775);const N=({expBotPageSize:e,isBot:t,pinId:i,location:n,showPdp:r})=>{const{trafficSource:o,topLevelTrafficSource:s,topLevelTrafficSourceDepth:a}=(0,l.Z)(n);return{field_set_key:"unauth_react",page_size:t?e||25:12,pin:i,prepend:!1,add_vase:!0,search_query:void 0,show_seo_canonical_pins:!0,source:o,top_level_source:s,top_level_source_depth:a,show_pdp:r||!1}},z=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:i,hasRichMetadataRecipe:s,pinId:l,isVideoPin:u,pinJoinSeoRelatedInterests:h,isUnauthRelatedProductsExp:p})=>{const{isAuthenticated:f,isBot:v}=(0,x.B)(),_=(0,D.useLocation)(),{checkExperiment:w}=(0,Z.F)(),b=(0,m.HG)(),[j,P]=(0,n.useState)(0),R=w("ff_reduce_plp_bot_feed",{dangerouslySkipActivation:!0}),C=(null==h?void 0:h.slice(0,5))||[],B=(0,T.Z)(),V=`related-pins:${l}`;let L="";!f&&!v&&b&&u&&w("unauth_desktop_related_pins_autoplay").anyEnabled&&(L=w("unauth_desktop_related_pins_autoplay").group);const{setIsAutoplay:z}=(0,O.I)(),H=L.split("_"),U=p?w("unauth_related_products").group:"",W=(0,I.Z)({name:"RelatedPinFeedResource",options:N({expBotPageSize:R.anyEnabled?10:null,isBot:v,pinId:l,location:_,showPdp:p})}),$=(0,r.useSelector)((({feeds:e})=>{var t;return null!==(t=e[V])&&void 0!==t?t:[]})),q=(0,F.CK)({hasRichMetadata:Boolean(e),hasRichMetadataProducts:Boolean(t),hasRichMetadataArticle:Boolean(i),hasRichMetadataRecipe:Boolean(s)}),K={...{viewType:3,viewParameter:q,viewData:{pin_id:l}},componentType:13007,duploFeedItemProps:{onPinLinkClick:B?e=>{j>2?(e&&e.preventDefault(),b&&B({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_closeup_relatedPins",desktopOptions:{modalType:"signup",modalOptions:{source:"saveButton",container:"closeup"}}}),P(1)):P(j+1)}:void 0,showSeoMetadata:!0},duploUnauthRelatedPinsAutoplayExpGroup:L,unauthRelatedProductsExpGroup:U,duploIsSquarePin:U.includes("square"),objectIdStr:l,trafficSource:"pin"};(0,g.Z)((()=>{let e=0;H&&5===H.length&&(e=parseInt(H[3],10)),L.startsWith("enabled")&&setTimeout((()=>{z(!0)}),e)}));const G=C.length>0&&!U.includes("square")?{type:"breakIn",value:{content:(0,k.jsx)(a.Z,{interests:C}),index:10}}:void 0;let Y=$;return"breakIn"===(null==G?void 0:G.type)?Y=(0,M.N)({items:$,breakIn:G.value}):"offset"===(null==G?void 0:G.type)&&(Y=$.slice(G.value)),(0,k.jsx)(E.Z,{viewType:3,viewParameter:q,pagination:{hasNext:!W.isAtEnd,isLoadingNext:W.isFetching,loadNext:()=>W.fetchMore(),refetch:()=>W.refresh()},feedItems:Y,feedKey:V,serverRender:!0,renderFeedItem:(e,t)=>{switch(e.type){case"pin":return(0,k.jsx)(A.cn,{children:(0,k.jsx)(d.default,{...K,pinId:e.id,slotIndex:t,trackingParams:e.trackingParams})});case"story":return(0,k.jsx)(c.Z,{storyId:e.id,children:e=>{var i;return(0,S.Z)({containerTypeIsItemGrid:56===e.container_type,numColumnsRequested:null===(i=e.display_options)||void 0===i?void 0:i.num_columns_requested,storyType:e.story_type})&&(0,k.jsx)(y.xu,{padding:2,children:(0,k.jsx)(o.Z,{slotIndex:t,storyId:e.id,viewType:3,viewParameter:q})})}});case"FEED_BREAK_IN":return G&&"breakIn"===G.type&&G.value.content;default:return null}}})};function H({pinId:e,isUnauthRelatedProductsExp:t}){var i,n,r,o,s,l,a;const{isBot:d}=(0,x.B)(),c=!(0,m.HG)()&&!d,u=(0,V.S6)()(e),h=(0,B.iR)(null==u?void 0:u.videos),{data:p}=(0,I.Z)(c?{name:"PinResource",options:{id:e,field_set_key:"unauth_ssr_lazy_load"}}:null),f=null!==(i=null!==(n=null==p||null===(r=p.pin_join)||void 0===r?void 0:r.seo_related_interests)&&void 0!==n?n:null==u||null===(o=u.pin_join)||void 0===o?void 0:o.seo_related_interests)&&void 0!==i?i:[];return(0,k.jsx)(z,{hasRichMetadata:Boolean(null==u?void 0:u.rich_metadata),hasRichMetadataProducts:Boolean(null==u||null===(s=u.rich_metadata)||void 0===s?void 0:s.products),hasRichMetadataArticle:Boolean(null==u||null===(l=u.rich_metadata)||void 0===l?void 0:l.article),hasRichMetadataRecipe:Boolean(null==u||null===(a=u.rich_metadata)||void 0===a?void 0:a.recipe),pinId:e,isVideoPin:h,pinJoinSeoRelatedInterests:f,isUnauthRelatedProductsExp:t})}const U=void 0!==P?P:P=i(535174);function W({graphqlRef:e,pinId:t,isUnauthRelatedProductsExp:i}){var n,r,o,s,l;const a=(0,L.useFragment)(U,e),{data:d}=(0,I.Z)({name:"ApiResource",options:{data:{fields:"pin.pin_join(),pinjoin.seo_related_interests"},url:`/v3/pins/${t}/`}}),c=null!==(n=null==d||null===(r=d.pin_join)||void 0===r?void 0:r.seo_related_interests)&&void 0!==n?n:[];return(0,k.jsx)(z,{hasRichMetadata:Boolean(a.richMetadata),hasRichMetadataProducts:Boolean(null===(o=a.richMetadata)||void 0===o?void 0:o.products),hasRichMetadataArticle:Boolean(null===(s=a.richMetadata)||void 0===s?void 0:s.article),hasRichMetadataRecipe:Boolean(null===(l=a.richMetadata)||void 0===l?void 0:l.recipe),pinId:t,pinJoinSeoRelatedInterests:c,isUnauthRelatedProductsExp:i})}const $=({storyId:e})=>{const t=(0,r.useSelector)((({stories:t})=>t[e])),{story_type:i,title:n}=t;if(i.startsWith("SKIN_TONE_FILTER_QUERIES")){const t=(null==n?void 0:n.args.query)||"";return(0,k.jsx)(y.xu,{marginBottom:8,children:(0,k.jsx)(s.Z,{titleFormat:(null==n?void 0:n.format)||"",titleArgsQuery:t})},`related-module-${e}`)}return null};function q({graphqlRef:e,onRelatedPinsTitleEnter:t,onRelatedPinsTitleExit:i,pinId:o,feedData:s,setFeedData:l,isProductPin:a}){const{checkExperiment:d}=(0,Z.F)(),c=(0,C.Z)(),u=(0,R.ZP)(),h=(0,r.useSelector)((({feeds:e})=>e[`related-pins:${o}`])),{isBot:p,isAuthenticated:f}=(0,x.B)();(0,n.useEffect)((()=>{h&&0===h.length&&l&&l(!1)}),[h,l]);const g=s&&!p&&!f&&a&&d("unauth_related_products").anyEnabled||!1,v=g&&d("unauth_related_products").group.includes("title"),_=s&&!p&&!f&&a&&!g&&d("unauth_related_products").group.includes("reverse")||!1,m=a&&!_&&v?u.bt("Comprar productos similares", "Shop Similar", "mobilePinPage.relatedProducts.title", undefined, true):u.bt("MÃ¡s como esto", "More like this", "mobilePinPage.relatedPins.title", undefined, true);return s&&(0,k.jsx)(j,{header:(0,k.jsx)(y.xu,{justifyContent:"center",display:"flex",marginTop:4,marginBottom:4,id:"relatedPins","data-test-id":"related-pins-header",children:(0,k.jsx)(y.X6,{size:"400",accessibilityLevel:2,children:(0,k.jsx)(y.iP,{onTap:()=>{c({action:"click",item:"related-pins-title"})},children:m})})}),title:m,storyModules:(Array.isArray(h)?h:[]).filter((({type:e})=>"story"===e)).slice(0,1).map((({id:e})=>(0,k.jsx)($,{storyId:e},`story-module-${e}`))),feed:(0,k.jsx)(y.xu,{"data-test-id":"relatedPins",children:e?(0,k.jsx)(W,{graphqlRef:e,pinId:o,isUnauthRelatedProductsExp:g}):(0,k.jsx)(H,{pinId:o,isUnauthRelatedProductsExp:g})}),onRelatedPinsTitleEnter:t,onRelatedPinsTitleExit:i})}},81198:(e,t,i)=>{function n(e){const t=null==e?void 0:e.state;if(!t)return{trafficSource:"unknown",topLevelTrafficSource:"unknown",topLevelTrafficSourceDepth:1};const i=t.trafficSource||"unknown";return{trafficSource:i,topLevelTrafficSource:t.topLevelTrafficSource||("pin"===i?"unknown":i),topLevelTrafficSourceDepth:(t.topLevelTrafficSourceDepth||0)+1}}i.d(t,{Z:()=>n})},90221:(e,t,i)=>{i.d(t,{N:()=>s});const n=e=>`BREAK_IN_${e}`,r=new Map,o=e=>{const t=r.get(e);if(t)return t;const i=Object.freeze({type:"FEED_BREAK_IN",id:n(e)});return r.set(e,i),i},s=({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),o(e),...t.slice(e)]},10216:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(883119),r=i(785893);function o({skinToneOvalHeight:e,skinToneOvalWidth:t,swatchColors:i}){return(0,r.jsx)(n.xu,{alignItems:"center","data-test-id":"skinToneFilterSwatch",display:"flex",overflow:"hidden",rounding:"pill",width:t,wrap:!0,children:i.map(((i,o)=>(0,r.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:i}},height:e/2,width:t/2},`${i}-${o}`)))})}var s=i(898781),l=i(112690);const a={filter_name:"Skin tone range",filter_term:"skin_face_color_l",multi_select:!1,options:[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}],vertical:"skin_tone"};function d({onClickApplyFilter:e,query:t,selectedSkinToneTerm:i,showHeaderText:d=!0,skinToneFilters:c=a}){const u=(0,s.ZP)(),h=(0,l.Z)(),p=c.options,f=`/search/pins/?rs=rs&q=${t}`,g=i?u.bt("Algunas ideas en esta gama de tonos de piel", "Some ideas in this skin tone range", "SkinToneFilters.copy.termSelected", undefined, true):u.bt("Elige una gama de tonos de piel", "Pick a skin tone range", "SkinToneFilters.copy.noTermSelected", undefined, true),{filtersContainerHeight:v,filtersContainerWidth:_,skinToneOvalHeight:m,skinToneOvalWidth:x}=function(){const e="undefined"!=typeof window?Math.min((window.innerWidth-40)/4-4,96):0;return{filtersContainerHeight:52,filtersContainerWidth:e,skinToneOvalHeight:44,skinToneOvalWidth:e-8}}();return(0,r.jsxs)(n.kC,{alignItems:"center",direction:"column",height:d?88:52,children:[d&&(0,r.jsx)(n.xu,{marginBottom:2,children:(0,r.jsx)(n.xv,{color:"default",overflow:"normal",weight:"bold",children:g})}),(0,r.jsx)(n.kC,{alignItems:"stretch",flex:"none",justifyContent:"around",children:p.map((({swatch_hex_colors:s,term:l},a)=>(0,r.jsx)(n.iP,{role:"link",onTap:()=>{!function(e,t){const{index:i,query:n,onClickApplyFilter:r}=e;t({aux_data:{entered_query:n,filter_type:"skin_tone",filter_value:i},element:1341,event_type:102,view_parameter:43,view_type:2}),null==r||r()}({index:a,query:t,onClickApplyFilter:e},h)},tapStyle:"none",href:`${f}${i!==l?`&filters=${encodeURIComponent(l)}`:""}`,children:(0,r.jsx)(n.xu,{alignItems:"center","data-test-id":"skin-tone-option",color:i===l?"selected":"default",display:"flex",height:v,justifyContent:"around",rounding:"pill",width:_,children:(0,r.jsx)(n.xu,{alignItems:"center",color:"default",display:"flex",height:v-4,justifyContent:"around",rounding:"pill",width:_-4,children:(0,r.jsx)(o,{skinToneOvalHeight:m,skinToneOvalWidth:x,swatchColors:s})})})},l)))})]})}},653493:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(702664);function r({children:e,storyId:t}){const i=(0,n.useSelector)((({stories:e})=>e[t]));return i&&e(i)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/UnauthCloseupRelatedPins.es_419-4d2b98e88e17126c.mjs.map